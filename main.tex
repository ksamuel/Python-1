%\documentclass[paperwidth=8in, paperheight=10in, 10pt, fds=5in]{book}
\documentclass[paperwidth=8in, paperheight=10in,lang=en]{elegantbook}
\usepackage[utf8]{inputenc}

\usepackage{ae,lmodern}
\usepackage[T1]{fontenc}
\usepackage{hyperref}
\usepackage{csquotes}
\usepackage{mdframed}
\usepackage{pifont}
\usepackage{scrextend}
\usepackage{layout}
\usepackage{color}
\usepackage{nameref}
\usepackage[space=true]{accsupp}

\usepackage[toc,xindy]{glossaries}
\input{glossaries.tex}

\usepackage{graphicx}
\graphicspath{{./images/}}

\usepackage{listings}

\setlength\parindent{0pt}
\setlength{\parskip}{10pt plus 1pt minus 2pt}

% \hypersetup{
%     colorlinks=true,
%     linkcolor=black,
%     filecolor=magenta,
%     urlcolor=blue,
% }

\newenvironment{warning}{
  \par
  \begin{mdframed}[linewidth=2pt,linecolor=red]
    \begin{list}{}{
      \leftmargin=1cm
      \labelwidth=\leftmargin
    }
      \item[\Large\ding{43}]
}
{
    \end{list}
  \end{mdframed}\par
}

% Keep indentation in code
% \makeatletter
% \def\lst@outputspace{{\ifx\lst@bkgcolor\empty\color{white}\else\lst@bkgcolor\fi\lst@visiblespace}}\lst@keepspacestrue\makeatother

% attemp at making the code indentation copy/pastable
\newcommand{\copyablespace}{\BeginAccSupp{method=hex,unicode,ActualText=00A0}\ \EndAccSupp{}}
\lstset{
  basicstyle=\ttfamily,
  upquote=true,
  showstringspaces=false,
  columns=fullflexible,
  backgroundcolor=\color{gray!25},
  literate={*}{{\char42}}1
           {-}{{\char45}}1
           {\ }{{\copyablespace}}1
}

\lstnewenvironment{py2}[1][]{\lstset{
  language=python,
  caption="Python 2"
}}{}

\lstnewenvironment{py3}[1][]{\lstset{
  language=python,
  caption="Python 3"
}}{}


\lstnewenvironment{py2and3}[1][]{\lstset{
  language=python,
  caption="Python 2 and 3",
}}{}

\title{Python += 1}
\subtitle{A pragmatic guide to the Python 2 to 3 transition}

\institute{Bite Code}
\date{\today}
\version{0.1}

\author{Kevin Samuel}
\date{\today}

\extrainfo{}

\logo{bite_code_logo.png}
\cover{cover.jpg}

\begin{document}

\maketitle

\frontmatter

\tableofcontents

\include{chapters/intro}

\mainmatter

\hypersetup{pageanchor=true}

\include{chapters/how_not_to_migrate}

\include{chapters/which_python}

\include{chapters/the_small_things}

\include{chapters/builtins}

\include{chapters/text_and_bytes}

\include{chapters/io}

\include{chapters/imports}

\chapter{Object Oriented Programming}\label{chap:oop}

\chapter{Stdlib names and behavior}

\chapter{Subtil traps}

The sys.maxint constant was removed, since there is no longer a limit to the value of integers. However, sys.maxsize can be used as an integer larger than any practical list or string index. It conforms to the implementation’s “natural” integer size and is typically the same as sys.maxint in previous releases on the same platform (assuming the same build options).

Shelve (format, ouverture)

% The from module import * syntax is only allowed at the module level, no longer inside functions.

Pickle, ssl, async/await, old style classes, .next()

\chapter{Chapter 6:  c extensions}

\part{Part 2 : how to migrate}

\chapter{Chapter 5 : how NOT to migrate}

Pypy, nuikta, docker, vendoring, pex, pinpoint dependancies

\chapter{Chapter 5 bis: prepare your project}

Get rid of *.

Get rid of old style class.

Write test if you can. Pytest.

Setup linters and text formatter.

Decide if you want a compatible code base or a migration

Can you use mypy ?

Don't do anything else while migrating.

Stop all python 2 new project.

\chapter{Chapter 6: low hanging fruits}

2 to 3, from future, manuall fixing

(Still using 2.6:) Turn on the -3 command line switch. This enables warnings about features that will be removed (or change) in 3.0. Run your test suite again, and fix code that you get warnings about until there are no warnings left, and all your tests still pass.

\chapter{Chapter 7 : Chapter restructuring the project}

Imports, layout,

\chapter{Chapter 7: compatible code base}

Python future, backports

\chapter{Chapter 8: fighting deprecation}

What to replace with what ?

\chapter{Chapter 9 : bytes and str}

Pathlib, open, network, u, future...

\chapter{New features to take advantage of}\label{chap:new_features}

%print()

Fstring

Asyncio

Statistic

Debug

Dataclass

\appendix

\printglossaries

\backmatter %bibliography

\include{back_cover}

\end{document}
